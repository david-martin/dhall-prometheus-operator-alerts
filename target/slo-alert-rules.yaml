# Code generated by dhall-to-yaml.  DO NOT EDIT.
groups:
  - name: SLO-http_requests_total
    rules:
      - alert: SLO-http_requests_total-ErrorBudgetBurn-5m1h
        annotations:
          description: "High error budget burn in namespace {{ $labels.namespace }} (current value: {{ $value }}). Check the runbook for how to resolve this."
          runbook_url: http://example.com/error_budget_burn.md
          summary: "At least 2.0% of the SLO error budget has been consumed over the past 5m and 1h windows"
        expr: |
          sum(http_requests_total:burnrate5m{job="prometheus"}) > (13.44 * (1-0.999))
          and
          sum(http_requests_total:burnrate1h{job="prometheus"}) > (13.44 * (1-0.999))
        for: "2m"
        labels:
          severity: critical
      - alert: SLO-http_requests_total-ErrorBudgetBurn-30m6h
        annotations:
          description: "High error budget burn in namespace {{ $labels.namespace }} (current value: {{ $value }}). Check the runbook for how to resolve this."
          runbook_url: http://example.com/error_budget_burn.md
          summary: "At least 5.0% of the SLO error budget has been consumed over the past 30m and 6h windows"
        expr: |
          sum(http_requests_total:burnrate30m{job="prometheus"}) > (5.6 * (1-0.999))
          and
          sum(http_requests_total:burnrate6h{job="prometheus"}) > (5.6 * (1-0.999))
        for: "15m"
        labels:
          severity: critical
      - alert: SLO-http_requests_total-ErrorBudgetBurn-2h1d
        annotations:
          description: "High error budget burn in namespace {{ $labels.namespace }} (current value: {{ $value }}). Check the runbook for how to resolve this."
          runbook_url: http://example.com/error_budget_burn.md
          summary: "At least 10.0% of the SLO error budget has been consumed over the past 2h and 1d windows"
        expr: |
          sum(http_requests_total:burnrate2h{job="prometheus"}) > (2.8 * (1-0.999))
          and
          sum(http_requests_total:burnrate1d{job="prometheus"}) > (2.8 * (1-0.999))
        for: "1h"
        labels:
          severity: warning
      - alert: SLO-http_requests_total-ErrorBudgetBurn-6h3d
        annotations:
          description: "High error budget burn in namespace {{ $labels.namespace }} (current value: {{ $value }}). Check the runbook for how to resolve this."
          runbook_url: http://example.com/error_budget_burn.md
          summary: "At least 10.0% of the SLO error budget has been consumed over the past 6h and 3d windows"
        expr: |
          sum(http_requests_total:burnrate6h{job="prometheus"}) > (0.93 * (1-0.999))
          and
          sum(http_requests_total:burnrate3d{job="prometheus"}) > (0.93 * (1-0.999))
        for: "3h"
        labels:
          severity: warning
      - expr: |
          sum(rate(http_requests_total{job="prometheus",code=~"5.."}[5m]))
          /
          sum(rate(http_requests_total{job="prometheus"}[5m]))
        record: http_requests_total:burnrate5m
      - expr: |
          sum(rate(http_requests_total{job="prometheus",code=~"5.."}[30m]))
          /
          sum(rate(http_requests_total{job="prometheus"}[30m]))
        record: http_requests_total:burnrate30m
      - expr: |
          sum(rate(http_requests_total{job="prometheus",code=~"5.."}[2h]))
          /
          sum(rate(http_requests_total{job="prometheus"}[2h]))
        record: http_requests_total:burnrate2h
      - expr: |
          sum(rate(http_requests_total{job="prometheus",code=~"5.."}[6h]))
          /
          sum(rate(http_requests_total{job="prometheus"}[6h]))
        record: http_requests_total:burnrate6h
      - expr: |
          sum(rate(http_requests_total{job="prometheus",code=~"5.."}[1h]))
          /
          sum(rate(http_requests_total{job="prometheus"}[1h]))
        record: http_requests_total:burnrate1h
      - expr: |
          sum(rate(http_requests_total{job="prometheus",code=~"5.."}[6h]))
          /
          sum(rate(http_requests_total{job="prometheus"}[6h]))
        record: http_requests_total:burnrate6h
      - expr: |
          sum(rate(http_requests_total{job="prometheus",code=~"5.."}[1d]))
          /
          sum(rate(http_requests_total{job="prometheus"}[1d]))
        record: http_requests_total:burnrate1d
      - expr: |
          sum(rate(http_requests_total{job="prometheus",code=~"5.."}[3d]))
          /
          sum(rate(http_requests_total{job="prometheus"}[3d]))
        record: http_requests_total:burnrate3d
